<div class="containerX signature-address-container">
  <h2 md-dialog-title>Signatures- Sign / Verify Message</h2>

  <form [formGroup]="addressForm" novalidate (ngSubmit)="onFormSubmit()">
    <div md-dialog-container>
      <md-tab-group (selectChange)="selectTab($event.index)">
        <md-tab label="Sign Message">
          <p>You can sign messages/agreements with your address to prove you can receive particl sent to them. Be
            careful
            not to sign anything vague or random, as phishing attacks may try to trick you into signing your identity
            over
            to them. Only sign fully-detailed statements you agree to.</p>
        </md-tab>
        <md-tab label="Verify Message">
          <p>
            Enter the receiver's address, message (ensure you copy line breaks, spaces, tabs, etc. exactly) and
            signature
            below to verify the message. Be careful not to read more into the signature than what is in the signed
            message
            itself, to avoid being tricked by a man-in-the-middle attack. Note that this only proves the signing party
            receives with the address, it cannot prove sendership of any transaction !)
          </p>
        </md-tab>
      </md-tab-group>

      <div class="signature-address-modal-form">

        <md-form-field>
          <input mdInput formControlName="address" [(ngModel)]="formData.address"
                 placeholder="Enter a Particl address (e.g. PuMnFoGouqFkFZ1rs2PmVDUqp9psfQssre)">
        </md-form-field>

        <md-icon class="cursor-pointer" mdTooltip="Address Lookup" (click)="openLookup()"
                 fontSet="ncIcon"
                 fontIcon="nc-multiple-19"></md-icon>
        <md-icon class="cursor-pointer" mdTooltip="Paste" fontSet="faIcon"
                 fontIcon="fa-clipboard"></md-icon>

        <md-form-field>
          <textarea mdInput formControlName="message" [(ngModel)]="formData.message" rows="10" cols="100"></textarea>
        </md-form-field>

        <md-form-field>
          <input mdInput formControlName="signature" [(ngModel)]="formData.signature"
                 placeholder="Click 'Sign Message' to generate signature">
        </md-form-field>
        <md-icon *ngIf="type == 'sign' && formData.signature" class="cursor-pointer" (click)="onCopyAddress()"
                 mdTooltip="Copy address" ngxClipboard
                 [cbContent]="formData.signature" fontSet="ncIcon" fontIcon="nc-copy-2"></md-icon>
      </div>
    </div>
    <!-- @TODO: icon will be replace with old theme icon  -->
    <md-dialog-actions fxLayoutAlign="end center">
      <button md-raised-button color="primary" type="submit" [disabled]="!addressForm.valid">
        <md-icon>{{ (type == "verify" ? 'verified_user': 'edit') }}</md-icon>
        <!-- <md-icon fontSet="faIcon" fontIcon="fa-pencil"></md-icon>-->
        {{type}} Message
      </button>
      <button type="reset" md-button (click)="resetForm()">
        <md-icon>clear</md-icon>
        Clear All
      </button>
    </md-dialog-actions>
  </form>
</div>
